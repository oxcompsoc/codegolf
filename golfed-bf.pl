$_=join'',<>;y/<>+-.,[]//cd;@p=split'';for(0..$#p){$p[$_]eq'['?push@s,$_:$p[$_]eq']'&&($x=$s[-1],$p[$x]=$_-$x,$p[$_]=$x-$_-1,pop@s)}while($_=$p[$i++]){/>/?$d++:/</?$d--:/\+/?$m[$d]++:/-$/?$m[$d]--:/\./?print chr$m[$d]:/,/?read STDIN,$m[$d],1:($_<0|!$m[$d])?$i+=$_:0}
